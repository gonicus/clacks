<?xml version="1.0" encoding="UTF-8"?>
<Objects xmlns="http://www.gonicus.de/Objects">
	<Object>
		<Name>goFonUser</Name>
    <DisplayName>goFonUser</DisplayName>
    <Description>goFonUser user extension</Description>
    <BaseObject>false</BaseObject>
    <BackendParameters>
      <Backend objectClasses="goFonAccount">LDAP</Backend>
      <Backend database="gophone">DBMAP</Backend>
    </BackendParameters>
    <Backend>LDAP</Backend>
    <Hooks>
      <Hook>
        <Type>PreRemove</Type>
        <Command>removeGoFonAccount</Command>
        <CommandParameters>
          <Value>uuid</Value>
        </CommandParameters>
      </Hook>
      <Hook>
        <Type>PreCreate</Type>
        <Command>removeGoFonAccount</Command>
        <CommandParameters>
          <Value>uuid</Value>
        </CommandParameters>
      </Hook>
      <Hook>
        <Type>PostCreate</Type>
        <Command>storeGoFonAccount</Command>
        <CommandParameters>
          <Value>uuid</Value>
        </CommandParameters>
      </Hook>
      <Hook>
        <Type>PreUpdate</Type>
        <Command>removeGoFonAccount</Command>
        <CommandParameters>
          <Value>uuid</Value>
        </CommandParameters>
      </Hook>
      <Hook>
        <Type>PostUpdate</Type>
        <Command>storeGoFonAccount</Command>
        <CommandParameters>
          <Value>uuid</Value>
        </CommandParameters>
      </Hook>
    </Hooks>
    <Attributes>
      <ForeignAttribute>
        <Name>sn</Name>
      </ForeignAttribute>
      <ForeignAttribute>
        <Name>givenName</Name>
      </ForeignAttribute>
      <ForeignAttribute>
        <Name>uid</Name>
      </ForeignAttribute>
      <ForeignAttribute>
        <Name>telephoneNumber</Name>
      </ForeignAttribute>
      <Attribute>
        <Name>goFonDeliveryMode</Name>
        <Description>GOFon delivery mode is defined here</Description>
        <Type>String</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>true</Mandatory>
        <Validators>
          <Condition>
            <Name>RegEx</Name>
            <Param>^[\x00-\x7F]*$</Param>
          </Condition>
        </Validators>
      </Attribute>
      <Attribute>
        <Name>goFonFormat</Name>
        <Description>defines voicemail delivery format</Description>
        <Type>String</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>false</Mandatory>
        <Validators>
          <Condition>
            <Name>RegEx</Name>
            <Param>^[\x00-\x7F]*$</Param>
          </Condition>
        </Validators>
      </Attribute>
      <Attribute>
        <Name>goFonForwarding</Name>
        <Description>defines which phone numbers get the next call</Description>
        <Type>String</Type>
        <MultiValue>true</MultiValue>
        <Mandatory>false</Mandatory>
        <Validators>
          <Condition>
            <Name>RegEx</Name>
            <Param>^[\x00-\x7F]*$</Param>
          </Condition>
        </Validators>
      </Attribute>
      <Attribute>
        <Name>goFonHardware</Name>
        <Description>defines voicemail delivery format</Description>
        <Type>String</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>true</Mandatory>
        <Validators>
          <Condition>
            <Name>RegEx</Name>
            <Param>^[\x00-\x7F]*$</Param>
          </Condition>
        </Validators>
      </Attribute>
      <Attribute>
        <Name>goFonPIN</Name>
        <Description>defines voicemail delivery format</Description>
        <Type>String</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>false</Mandatory>
        <Validators>
          <Condition>
            <Name>RegEx</Name>
            <Param>^[\x00-\x7F]*$</Param>
          </Condition>
        </Validators>
      </Attribute>
      <Attribute>
        <Name>goFonVoicemailPIN</Name>
        <Description>defines voicemail delivery format</Description>
        <Type>String</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>true</Mandatory>
        <Validators>
          <Condition>
            <Name>RegEx</Name>
            <Param>^[\x00-\x7F]*$</Param>
          </Condition>
        </Validators>
      </Attribute>
      <Attribute>
        <Name>goFonMacro</Name>
        <Description>Holds the macro parameter definitions</Description>
        <Type>UnicodeString</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>false</Mandatory>
      </Attribute>
      <Attribute>
        <Name>goFonHomeServer</Name>
        <Description>The gofon-server to use</Description>
        <Type>UnicodeString</Type>
        <MultiValue>false</MultiValue>
        <Mandatory>true</Mandatory>
      </Attribute>
    </Attributes>
    <Extends>
      <Value>User</Value>
		</Extends>
	</Object>
</Objects>

