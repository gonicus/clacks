<?xml version="1.0" encoding="UTF-8"?>
<Objects xmlns="http://www.gonicus.de/Objects">
	<Object>
		<Name>Person</Name>
		<Description>Person class</Description>
		<DefaultBackend>LDAP</DefaultBackend>
		<BaseRDN>ou=people</BaseRDN>

		<Methods>
			<Method>
				<Name>notify</Name>
				<Signature>
					<Parameter>
						<Name>title</Name>
						<Type>String</Type>
						<Required>true</Required>
					</Parameter>
					<Parameter>
						<Name>message</Name>
						<Type>String</Type>
						<Required>true</Required>
					</Parameter>
				</Signature>
				<Code>notify(message, title)</Code>
			</Method>
		</Methods>

		<Attributes>
			<Attribute>
				<Name>sn</Name>
				<Description>Surname</Description>
				<Backend>LDAP</Backend>
				<Syntax>String</Syntax>
				<Validators>
					<ConditionChain>
						<Type>or</Type>
						<Condition>
							<Name>isString</Name>
						</Condition>
					</ConditionChain>
				</Validators>
				<InFilter>
					<Backend>LDAP2</Backend>
					<FilterChain>
						<Filter>
							<Name>loadAttr</Name>
						</Filter>
					</FilterChain>
				</InFilter>
				<OutFilter>
					<Backend>LDAP2</Backend>
					<FilterChain>
						<Filter>
							<Name>saveAttr</Name>
						</Filter>
					</FilterChain>
				</OutFilter>
				<MultiValue>false</MultiValue>
			</Attribute>

			<Attribute>
				<Name>givenName</Name>
				<Description>Given name</Description>
				<Backend>LDAP</Backend>
				<Syntax>String</Syntax>
				<Validators>
					<ConditionChain>
						<Type>or</Type>
						<Condition>
							<Name>isString</Name>
						</Condition>
					</ConditionChain>
				</Validators>
				<InFilter>
					<Backend>LDAP2</Backend>
					<FilterChain>
						<Filter>
							<Name>loadAttr</Name>
						</Filter>
					</FilterChain>
				</InFilter>
				<OutFilter>
					<Backend>LDAP2</Backend>
					<FilterChain>
						<Filter>
							<Name>saveAttr</Name>
						</Filter>
					</FilterChain>
				</OutFilter>
				<MultiValue>false</MultiValue>
			</Attribute>

			<Attribute>
				<Name>cn</Name>
				<Description>Common name</Description>
				<Backend>LDAP</Backend>
				<Syntax>String</Syntax>
				<Validators>
					<ConditionChain>
						<Type>or</Type>
						<Condition>
							<Name>isString</Name>
						</Condition>
					</ConditionChain>
				</Validators>
				<InFilter>
					<FilterChain>
						<Filter>
							<Name>loadAttr</Name>
						</Filter>
					</FilterChain>
				</InFilter>
				<OutFilter>
					<FilterChain>
						<Choice>
							<When>
								<ConditionChain>
									<Type>or</Type>
									<Condition>
										<Name>equals</Name>
										<Param>{%sn}</Param>
										<Param>"M"</Param>
									</Condition>
								</ConditionChain>
								<FilterChain>
									<Filter>
										<Name>concatString</Name>
										<Param>"Herr "</Param>
										<Param>left</Param>
									</Filter>
								</FilterChain>
							</When>
							<When>
								<ConditionChain>
									<Type>or</Type>
									<Condition>
										<Name>equals</Name>
										<Param>{%sn}</Param>
										<Param>"F"</Param>
									</Condition>
								</ConditionChain>
								<FilterChain>
									<Filter>
										<Name>concatString</Name>
										<Param>"Frau "</Param>
										<Param>left</Param>
									</Filter>
								</FilterChain>
							</When>
							<Else>
								<FilterChain>
									<Filter>
										<Name>no-op</Name>
									</Filter>
								</FilterChain>
							</Else>
						</Choice>
					</FilterChain>
				</OutFilter>
				<MultiValue>false</MultiValue>
			</Attribute>
		</Attributes>

		<Container>
			<Type>Nothing</Type>
		</Container>

		<Mandatory>false</Mandatory>
		<BaseObject>false</BaseObject>
	</Object>
</Objects>
